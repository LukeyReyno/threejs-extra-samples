(()=>{"use strict";({388:function(){var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function l(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}a((o=o.apply(e,t||[])).next())}))};const t=document.getElementById("panel"),n=document.getElementById("content"),o=document.getElementById("viewer"),i=document.getElementById("filterInput"),s=document.getElementById("clearSearchButton"),c=document.getElementById("expandButton"),l=document.getElementById("button"),a=document.getElementById("panelScrim"),r=document.getElementById("previewsToggler"),d=document.querySelector("#sections > a"),u=null==d?void 0:d.href,h={},f=new Map,m=document.createDocumentFragment(),g=(()=>{const e=window.location.href,t=e.match(/\/examples(\/|$)/);return t?e.substring(0,t.index+t[0].length):e})();let p=null;function y(e,t){const n=Array.isArray(t)&&t.includes("external")?' <span class="tag">external</span>':"",o=function(e){const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}(`\n    <div class="card">\n      <a href="${g}/${e}.html" target="viewer">\n        <div class="cover">\n          <img src="${g}/screenshots/${e}.jpg" loading="lazy" width="400" />\n        </div>\n        <div class="title">${$(e)}${n}</div>\n      </a>\n    </div>\n  `);return o.querySelector('a[target="viewer"]').addEventListener("click",(function(t){0!==t.button||t.ctrlKey||t.altKey||t.metaKey||v(e)})),o}function v(e){null!==p&&h[p].classList.remove("selected"),h[e].classList.add("selected"),window.location.hash=e,o.focus(),o.style.display="unset",t.classList.remove("open"),p=e,l.style.display="",l.href="https://github.com/mrdoob/three.js/blob/master/examples/"+p+".html",l.title="View source code for "+$(p)+" on GitHub"}function w(e,t){let n=i.value.trim();n=n.replace(/\s+/gi," "),""!==n?window.history.replaceState({},"","?q="+n+window.location.hash):window.history.replaceState({},"",window.location.pathname+window.location.hash);const o=new RegExp("(?=.*"+n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").split(" ").join(")(?=.*")+")","gi");for(const n in e){const i=e[n];for(let e=0;e<i.length;e++)E(i[e],o,t)}!function(e){for(const t in e){let n=!0;const o=e[t];for(let e=0;e<o.length;e++){const t=o[e];if(!1===h[t].classList.contains("hidden")){n=!1;break}}const i=document.querySelector('h2[data-category="'+t+'"]');n?i.classList.add("hidden"):i.classList.remove("hidden")}}(e),L(n)}function L(e){if(e){const t=d.href.split(/[?#]/)[0];null==d||(d.href=`${t}?q=${e}`)}else null==d||(d.href=u)}function E(e,t,n){const o=h[e];e in n&&(e+=" "+n[e].join(" "));const i=e.replace(/_+/g," ").match(t);i&&i.length>0?o.classList.remove("hidden"):o.classList.add("hidden")}function $(e){const t=e.split("_");return t.shift(),t.join(" / ")}!function(){e(this,void 0,void 0,(function*(){l.style.display="none",r.src=`${g}/files/thumbnails.svg`;const e=yield(yield fetch(`${g}/files.json`)).json(),d=yield(yield fetch(`${g}/tags.json`)).json();for(const t in e){const n=e[t],o=document.createElement("h2");o.textContent=t,o.setAttribute("data-category",t),m.appendChild(o);for(let e=0;e<n.length;e++){const t=n[e],o=y(t,d[t]);m.appendChild(o),h[t]=o,f.set(t,`${g}/${t}.html`)}}if(n.appendChild(m),""!==window.location.hash){const e=window.location.hash.substring(1);!0===f.has(e)&&(v(e),o.src=f.get(e),o.style.display="unset")}if(""===o.src){const e=document.getElementById("PlaceholderHTML");e&&(o.srcdoc=e.innerHTML),o.style.display="unset"}i.value=function(){const e=window.location.search;if(-1!==e.indexOf("?q="))return decodeURI(e.slice(3));return""}(),""!==i.value?(t.classList.add("searchFocused"),w(e,d)):L(""),i.onfocus=function(){t.classList.add("searchFocused")},i.onblur=function(){""===i.value&&t.classList.remove("searchFocused")},s.onclick=function(){i.value="",w(e,d),i.focus()},i.addEventListener("input",(function(){w(e,d)})),c.addEventListener("click",(function(e){e.preventDefault(),t.classList.toggle("open")})),a.onclick=function(e){e.preventDefault(),t.classList.toggle("open")},r.onclick=function(e){e.preventDefault(),n.classList.toggle("minimal")},/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.style.width=getComputedStyle(o).width,o.style.height=getComputedStyle(o).height,o.setAttribute("scrolling","no"))}))}()}})[388]()})();